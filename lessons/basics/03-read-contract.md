# üîç –£—Ä–æ–∫ 03: –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

[‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É README](../../README.md)

## üîó –ó–ê–î–ê–ß–ê

–ù–∞—É—á–∏—Ç—å—Å—è –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –∏ –≤—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ `view` / `pure` —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é **Ethers.js (v6)**.

---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ —á—Ç–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞?

–ß—Ç–µ–Ω–∏–µ - **–≤—ã–∑–æ–≤ –ø—É–±–ª–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏**, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–ª–æ–∫—á–µ–π–Ω–∞:

- ‚úÖ –ë–ï–°–ü–õ–ê–¢–ù–û (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≥–∞–∑–∞)
- ‚úÖ –ù–ï —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–ø–∏—Å–∏ –∏–ª–∏ –∫–æ—à–µ–ª—å–∫–∞
- ‚úÖ –ü–†–û–°–¢–û –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∏ –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

–¢–∞–∫–æ–π –≤—ã–∑–æ–≤ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å:

- –∏–º—è —Ç–æ–∫–µ–Ω–∞
- –±–∞–ª–∞–Ω—Å
- –¥–∞–Ω–Ω—ã–µ –∏–∑ `mapping` –∏ `public` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

## üî© –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –≤—ã–∑–æ–≤–∞?

1. ‚úÖ `provider` - –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å–µ—Ç–∏
2. ‚úÖ `contract address` - –∞–¥—Ä–µ—Å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
3. ‚úÖ `ABI` - –∑–Ω–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ—É–Ω–∫—Ü–∏–π
4. ‚úÖ `ethers.Contract` - –∫–ª–∞—Å—Å –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º

---

## üì¶ –°—Ö–µ–º–∞ –≤—ã–∑–æ–≤–∞

```ts
import { Contract } from "ethers";

const contract = new Contract(CONTRACT_ADDRESS, ABI, provider);

const name = await contract.name(); // —á—Ç–µ–Ω–∏–µ name()
console.log("–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:", name);
```

---

## üìö –ß—Ç–æ —Ç–∞–∫–æ–µ ABI?

**ABI (Application Binary Interface)** - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å–æ–±—ã—Ç–∏–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.  
–ë–µ–∑ –Ω–µ–≥–æ —Ç—ã –Ω–µ —Å–º–æ–∂–µ—à—å "–ø–æ–Ω—è—Ç—å", –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –µ—Å—Ç—å —É –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –∫–∞–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏ –∫–∞–∫–∏–µ —Ç–∏–ø—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è.

---

### üîç –ó–∞—á–µ–º –Ω—É–∂–µ–Ω ABI?

–ö–æ–≥–¥–∞ —Ç—ã —Å–æ–∑–¥–∞—ë—à—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —á–µ—Ä–µ–∑ `new Contract(...)`, ABI:

- –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, **–∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã** (`name()`, `balanceOf()`, `getPrice()`, –∏ —Ç.–¥.)
- –≥–æ–≤–æ—Ä–∏—Ç, **–∫–∞–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã**, –∫–∞–∫–∏–µ —Ç–∏–ø—ã –æ–Ω–∏ –∏–º–µ—é—Ç
- –ø–æ–∑–≤–æ–ª—è–µ—Ç `ethers.js` —Å–æ–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `callData` –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç

üìå –ë–µ–∑ ABI `ethers.js` –Ω–µ —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—â–∞—Ç—å—Å—è —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º.

---

## üß¨ –ü—Ä–∏–º–µ—Ä ABI (JSON-—Ñ–æ—Ä–º–∞—Ç)

–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç ABI –æ–¥–Ω–æ–π `view`-—Ñ—É–Ω–∫—Ü–∏–∏ `name()` —É ERC20 —Ç–æ–∫–µ–Ω–∞:

```json
[
  {
    "type": "function",
    "name": "name",
    "inputs": [],
    "outputs": [{ "type": "string" }],
    "stateMutability": "view"
  }
]
```

---

## üß≠ –ì–¥–µ –≤–∑—è—Ç—å ABI?

–ß—Ç–æ–±—ã —á–∏—Ç–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç, —Ç–µ–±–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω ABI** - –±–µ–∑ –Ω–µ–≥–æ `ethers.Contract` –Ω–µ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—Ç—å.

–í–æ—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã, –≥–¥–µ –µ–≥–æ –Ω–∞–π—Ç–∏ üëá

---

### üîπ 1. Etherscan (—Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Å–ø–æ—Å–æ–±)

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ [https://sepolia.etherscan.io/](https://sepolia.etherscan.io/) –∏–ª–∏ [https://etherscan.io](https://etherscan.io)
2. –í—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤ –ø–æ–∏—Å–∫
3. –ü–µ—Ä–µ–π–¥–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É **Contract ‚Üí Code**
4. –ü—Ä–æ–ª–∏—Å—Ç–∞–π –≤–Ω–∏–∑ –¥–æ —Å–µ–∫—Ü–∏–∏ **"Contract ABI"**
5. –ù–∞–∂–º–∏ **"Copy ABI to Clipboard"**

üí° –≠—Ç–æ –ø–æ–ª–Ω—ã–π JSON-—Ñ–æ—Ä–º–∞—Ç ABI - –µ–≥–æ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –ø—Ä—è–º–æ –≤ –∫–æ–¥ –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ `.json` —Ñ–∞–π–ª.

---

### üîπ 2. Remix IDE

–ï—Å–ª–∏ —Ç—ã –ø–∏—Å–∞–ª –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ Remix:

- –ü–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –æ—Ç–∫—Ä–æ–π —Å–ª–µ–≤–∞ **"Compilation Details"**
- –ù–∞–π–¥–∏ –∫–Ω–æ–ø–∫—É **"ABI" ‚Üí Copy to clipboard**
- –ò–ª–∏ –æ—Ç–∫—Ä–æ–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ Remix

---

### üîπ 3. Hardhat / Foundry / Truffle

–ï—Å–ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª—Å—è –ª–æ–∫–∞–ª—å–Ω–æ:

- –ù–∞–π–¥–∏ —Ñ–∞–π–ª –≤ `artifacts/` (Hardhat/Truffle) –∏–ª–∏ `out/` (Foundry)
- –û—Ç–∫—Ä–æ–π `ERC20.json`, `MyToken.json` –∏–ª–∏ –¥—Ä—É–≥–æ–π
- –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–ª—è `"abi"`

üí° –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å `.json` –Ω–∞–ø—Ä—è–º—É—é:

```ts
import ERC20Abi from "../artifacts/ERC20.json";

const token = new Contract(address, ERC20Abi.abi, provider);
```

---

## üßæ –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π ABI

–í–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ JSON –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π ABI**:

```ts
const abi = [
  "function name() view returns (string)",
  "function balanceOf(address) view returns (uint256)",
];
```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

–ù–∏–∂–µ —Å–ø–∏—Å–æ–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –æ—à–∏–±–æ–∫, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —á–∞—Å—Ç–æ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É:

| –û—à–∏–±–∫–∞                                    | –ü—Ä–∏—á–∏–Ω–∞                                                              |
| ----------------------------------------- | -------------------------------------------------------------------- |
| `invalid address`                         | –í `balanceOf(...)` –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å     |
| `missing provider`                        | –ù–µ –ø–µ—Ä–µ–¥–∞–Ω `provider` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `new Contract(...)`               |
| `invalid function fragment`               | –û—à–∏–±–∫–∞ –≤ ABI-—Ñ—Ä–∞–≥–º–µ–Ω—Ç–µ: –ø—Ä–æ–ø—É—â–µ–Ω —Ç–∏–ø, –ª–∏—à–Ω—è—è —Å–∫–æ–±–∫–∞ –∏–ª–∏ –æ–ø–µ—á–∞—Ç–∫–∞     |
| `contract.function is not a function`     | –¢–∞–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ –Ω–µ—Ç –≤ ABI –∏–ª–∏ –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏              |
| `call revert exception`                   | –ö–æ–Ω—Ç—Ä–∞–∫—Ç –≤—ã–±—Ä–æ—Å–∏–ª `revert`, —á–∞—â–µ –≤—Å–µ–≥–æ –∏–∑-–∑–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ |
| `missing argument` / `too many arguments` | –ê—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä–µ —Ñ—É–Ω–∫—Ü–∏–∏ ABI                     |
| `network error` –∏–ª–∏ `ECONNREFUSED`        | –ü—Ä–æ–±–ª–µ–º–∞ —Å RPC-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º, —Å–±–æ–π —Å–µ—Ç–∏ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π `RPC_URL`         |
| `undefined is not a function`             | –ú–µ—Ç–æ–¥ –≤—ã–∑–≤–∞–Ω –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –ø—Ä–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç     |

---

## üõ† –î–∞–ª—å—à–µ - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä

–í —Ñ–∞–π–ª–µ [`03-read-contract.ts`](./03-read-contract.ts) –º—ã **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, –∫–∞–∫ —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞**, –∏ –ø–æ—à–∞–≥–æ–≤–æ —Ä–µ–∞–ª–∏–∑—É–µ–º:

1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É —á–µ—Ä–µ–∑ `.env`
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —á–µ—Ä–µ–∑ `ethers.Contract`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ABI –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
4. –ß—Ç–µ–Ω–∏–µ `name`, `symbol`, `decimals`, `totalSupply`
5. –ü–æ–ª—É—á–µ–Ω–∏–µ `balanceOf()` –¥–ª—è —Å–≤–æ–µ–≥–æ –∞–¥—Ä–µ—Å–∞
6. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª —Å `formatUnits()`

> –≠—Ç–æ –±—É–¥–µ—Ç —Ç–≤–æ—è –ø–µ—Ä–≤–∞—è **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å —á—É–∂–∏–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –≤ –ø—É–±–ª–∏—á–Ω–æ–π —Å–µ—Ç–∏ - **–±–µ–∑ –≥–∞–∑–∞ –∏ –±–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–∫–∞**. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±–æ—Ç–æ–≤, –¥–∞—à–±–æ—Ä–¥–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.
